extends ../../base.pug

include ../mixins/navigation.pug
include ../mixins/header.pug

block append vars
  -var pageTitle = "Testing and tradeoffs | Mike Carter"
  -var metaTitle = "Testing and tradeoffs"
  -var metaDescription = "More tests aren&#39;t always better. In this post, we explore testing tradeoffs and the importance of using a mix of tools to control software quality."
  -var metaUrl = "https://mcarter.me/posts/testing-and-tradeoffs"

block cssIncludes
  link(rel='stylesheet' type='text/css' href='/assets/styles/blog.css' media='screen')

block pageContent
  +navigation()
  article.article
    +header(
      "Testing and tradeoffs",
      "More tests aren&#39;t always better. In this post, we explore testing tradeoffs and the importance of using a mix of tools to control software quality."
    )

    main.article__content.wrapper-article
      p <em>&#8220;I&#39;ve finished the feature, I&#39;m just updating tests now&#8221;</em>. I hear this several times a week from developers I work with, usually a long while before their feature actually goes live. 
      
      p Automated tests are an extremely effective practice in software quality control. They can be written once, maintained as the codebase evolves, and be effortlessly re-run an infinite number of times. Tests can automate the equivalent of hours of manual testing in minutes, and I&#39;m a strong supporter of them, but they don&#39;t come without drawbacks. 

      p Tests cost money to write, money to maintain, and can be painfully slow to run at scale. In many teams, intermittent failures are also a factor. They can hold up deployments for hours while frustrated developers try to figure out what&#39;s wrong.

      figure
        img.article-image.article-image--subtitled(src="/assets/images/posts/testing-and-tradeoffs/first-try.gif" alt="Lego batman throws knives at a button trying to press it. After several attempts he hits the button, and shouts 'First try!'" loading="lazy")
        figcaption
          p.article-image-subtitle The average test suite

      p We also fall into the trap of forgetting that tests don&#39;t guarantee anything. When they pass, they&#39;re just telling us that our potentially buggy test code has determined our potentially buggy application code is behaving as expected under the conditions we thought to check. There&#39;s a lot of room for false positives and negatives there.

      p Unfortunately, relying on poorly maintained test suites as the only means of quality control means many teams suffer through 50% or more of their developer&#39;s code time being lost to test maintenance. To improve the situation, we need to recognise our tests are just one of many tools we have available. 

      h2 Making tradeoffs
      p In order for a test to be worth having, the ongoing cost of development and maintainance needs to be significantly lower than the ongoing cost of not having it at all. This tradeoff isn&#39;t always worth making.

      p Rather than defaulting to tests for everything, we should look at how our application is going to be developed and used, and think broadly about the various tools we have available to maintain quality. We can then compliment lean, valuable test suites with tools and processes that allow us to maintain quality while keeping the tradeoffs working very much in our favour. 

      p An example could be needing to support Internet Explorer (IE) on a single-page JavaScript web application. It would be tempting to make the tests run against IE in addition to modern browsers, but in doing so we&#39;d increase the test suite runtime, and we&#39;d force developers to cater to the quirks involved in automating multiple browsers going forwards.

      p Since only a small number of our customers are likely to still use IE in 2021, a better approach might be to use an error tracking service to alert us to any IE errors raised in the live environment. This way, the occasional IE user might stumble on an error, but they can be quickly identified and fixed around other work. It&#39;s a much more sensible tradeoff between application quality and ongoing cost.

      h2 Tools and processes for code quality
      p Looking beyond tests, there are many tools and processes available to us that we can use to maintain software quality. Many of them are things we do already, but don&#39;t use to their full potential. Here are a few I regularly encourage teams to do more of:

      ul
        li Improving developer documentation.
        li Spending time planning new features.
        li Spending time on architectural discussions.
        li Frequent pair programming.
        li Improved code linting.
        li Introducing code typing.
        li Better code review.
        li Targeted manual testing.
        li Periodic accessibility and user experience reviews.
        li Improving application logging.
        li Using an automated error tracking service.
        li Using an application metrics monitoring service.
        li Using (or understanding) a product analytics service.
        li Developer experience improvements.
        li Proactively removing old/unused features.
        li Proactively collecting customer feedback.

      p None of these are a complete solution to quality, and each of these have their own tradeoffs to consider. Rather than replace tests, they can be used <em>together</em> with tests to provide a more complete approach to maintaining quality software. They can help to restore a healthy tradeoff between feature development and quality control, enabling developers to iterate quickly and ship with less frustration.

      p So, next time you find yourself spending the majority of your development time tending to a  test suite, consider what other tools and processes you have at your disposal to improve software quality, and make some better tradeoffs.

      hr 

      p I make a living by helping companies bring digital products to market with solid foundations, room to scale, and costs under control. If it sounds like I could help you, have a look over <a href="/services">my services</a>. If you&#39;d like to hear more from me, you should follow me on <a href='https://twitter.com/mcarterj' target='_blank' rel='noopener'>Twitter</a>, for more product development content in future.

  include ../includes/footer.pug
